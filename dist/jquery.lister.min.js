/*
 *  Lister.js - v0.0.1
 *  A jQuery plugin to make lists from selects.
 *  http://jsumnersmith.github.io/lister
 *
 *  Made by Joel Smith
 *  Under MIT License
 */
!function(a){function b(b,d){var e=this;e.element=b,e.$element=a(e.element),e.settings=a.extend({},defaults,d),e._defaults=defaults,e._name=c,e.init()}var c="lister";defaults={listClass:"lister",selectedClass:"lister-selected",selectedTop:!0,selectedTopWrapperClass:"lister-selected-top"},b.prototype={init:function(){var a=this;a.cloneSelect(),a.bindClicks()},cloneSelect:function(){var b=this;this.$element.each(function(){var c=a(this),d=c.clone().wrap("<div></div>").parent().html().replace(/select/g,"ul").replace(/option/g,"li"),e=a(d);e.addClass(b.settings.listClass),c.after(e),b.settings.selectedTop&&b.$element.before("<div class='"+b.settings.selectedTopWrapperClass+"'></div>")})},bindClicks:function(){var b=this,c=a("ul."+b.settings.listClass),d=c.find("li");d.click(function(){var c=a(this),e=c.parent().prev(b.$element);if(d.removeClass(b.settings.selectedClass),c.addClass(b.settings.selectedClass),b.settings.selectedTop){var f=e.find("option").eq(c.index());f.prop("selected",!0);var g=a(e.prev("."+b.settings.selectedTopWrapperClass));console.log(g),g.text(f.val())}else{var f=e.find("option").eq(c.index());f.prop("selected",!0)}})}},a.fn.lister=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);